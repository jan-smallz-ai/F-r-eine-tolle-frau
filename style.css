:root{
  --bg1:#08122a;
  --bg2:#0b2a5a;
  --card:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.12);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.70);
  --gold:#ffd36a;
  --btn:#f3d37b;
  --btnText:#1a1a1a;
  --shadow: 0 18px 60px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background: radial-gradient(1200px 600px at 50% 10%, #123b7a 0%, var(--bg1) 55%, #050a16 100%);
  overflow-x:hidden;
}

.bg{
  position:fixed; inset:0;
  background:
    radial-gradient(700px 400px at 20% 20%, rgba(255,255,255,.09), transparent 60%),
    radial-gradient(800px 500px at 80% 30%, rgba(255,255,255,.06), transparent 60%);
  pointer-events:none;
}

.wrap{ width:min(860px, 94vw); margin:0 auto; padding:22px 0 60px; position:relative; z-index:1; }
.top{ text-align:center; padding:10px 8px 14px; }
.badge{ width:44px; height:44px; border-radius:14px; margin:0 auto 10px;
  display:grid; place-items:center; background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.12);
}
h1{ margin:0; font-size:44px; line-height:1.05; letter-spacing:.3px;}
.gold{ color:var(--gold); text-shadow:0 10px 30px rgba(0,0,0,.35); }
.sub{ margin:10px auto 0; max-width:520px; color:var(--muted); font-size:16px; }

.card{
  position:relative;
  margin:14px auto 0;
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:22px;
  padding:18px;
  box-shadow:var(--shadow);
  overflow:hidden;
}
.hidden{ display:none !important; }

.stage{ min-height: 420px; }

.snow{
  position:fixed; inset:0; pointer-events:none; opacity:.9;
  background-image: radial-gradient(rgba(255,255,255,.75) 2px, transparent 3px);
  background-size: 120px 120px;
  animation: snowDrift 9s linear infinite;
  filter: blur(.2px);
}
@keyframes snowDrift{
  from{ transform: translateY(-60px); }
  to{ transform: translateY(140px); }
}

.speech{ position:absolute; top:14px; max-width:min(520px, 84%); z-index:5; }
.speech.left{ left:14px; }
.speech.right{ right:14px; text-align:right; }
.speech.centerish{ left:50%; transform:translateX(-50%); bottom:18px; top:auto; }
.bubble{
  background:rgba(10,16,35,.85);
  border:1px solid rgba(255,255,255,.14);
  border-radius:18px;
  padding:12px 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  backdrop-filter: blur(10px);
}
.tail{
  width:18px; height:18px;
  background:rgba(10,16,35,.85);
  border-left:1px solid rgba(255,255,255,.14);
  border-bottom:1px solid rgba(255,255,255,.14);
  position:relative;
  transform: rotate(45deg);
  margin-top:-9px;
}
.speech.left .tail{ margin-left:24px; }
.speech.right .tail{ margin-left:auto; margin-right:24px; }
.small{ font-size:13px; color:rgba(255,255,255,.72); }
.muted{ color:rgba(255,255,255,.62); }

.skyBox{
  position:absolute; left:0; right:0; top:110px; bottom:50px;
  border-radius:18px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.10);
  overflow:hidden;
}

/* Sleigh button (clickable) */
.sleigh{
  position:absolute;
  top:55%;
  left:-260px;
  transform: translateY(-50%);
  width:240px;
  height:140px;
  background:transparent;
  border:0;
  padding:0;
  cursor:pointer;
  z-index:3;
  animation: fly 7.5s linear infinite;
  outline:none;
  touch-action: manipulation;
}
@keyframes fly{
  0%{ left:-280px; transform:translateY(-50%) rotate(-2deg); }
  50%{ transform:translateY(-52%) rotate(1.5deg); }
  100%{ left: calc(100% + 280px); transform:translateY(-50%) rotate(-2deg); }
}
.sleigh:active{ transform: translateY(-50%) scale(.985); }

/* cows */
.cows{ position:absolute; left:0; top:28px; display:flex; gap:10px; }
.cow{
  width:78px; height:56px; border-radius:18px;
  background: linear-gradient(180deg, #f7f2e9, #e9e2d7);
  border:1px solid rgba(0,0,0,.12);
  position:relative;
  box-shadow: 0 10px 18px rgba(0,0,0,.18);
  animation: cowBob .45s ease-in-out infinite alternate;
}
.cow:nth-child(2){ animation-delay:.08s; }
@keyframes cowBob{
  from{ transform: translateY(0) rotate(-1deg); }
  to{ transform: translateY(3px) rotate(1deg); }
}
.cow:before{ /* head */
  content:"";
  position:absolute; right:-18px; top:10px;
  width:28px; height:28px; border-radius:12px;
  background:#e9e2d7; border:1px solid rgba(0,0,0,.12);
}
.cow:after{ /* horns */
  content:"";
  position:absolute; right:-16px; top:2px;
  width:34px; height:18px;
  background:
    radial-gradient(circle at 6px 12px, #c9b38e 0 6px, transparent 7px),
    radial-gradient(circle at 28px 12px, #c9b38e 0 6px, transparent 7px);
  filter: drop-shadow(0 4px 6px rgba(0,0,0,.15));
}

/* ropes */
.ropes{ position:absolute; left:120px; top:64px; width:74px; height:30px; }
.ropes span{
  position:absolute; left:0; right:0; height:2px; background:rgba(255,255,255,.45);
  transform-origin:left center;
}
.ropes span:nth-child(1){ top:6px; transform:rotate(12deg); }
.ropes span:nth-child(2){ top:18px; transform:rotate(-10deg); }

/* sled */
.sled{
  position:absolute; left:160px; top:64px;
  width:78px; height:44px;
  background: linear-gradient(180deg, #7a2a2a, #561d1d);
  border-radius:14px;
  border:1px solid rgba(0,0,0,.18);
  box-shadow: 0 14px 24px rgba(0,0,0,.22);
}
.sled:before{
  content:"";
  position:absolute; left:10px; right:10px; bottom:-10px; height:10px;
  background:rgba(255,255,255,.10);
  border-radius:0 0 12px 12px;
}
.sled:after{
  content:"";
  position:absolute; left:-8px; right:-6px; bottom:-16px; height:10px;
  border-radius:12px;
  border:3px solid rgba(255,255,255,.35);
  border-top:none;
  transform:skewX(-10deg);
  opacity:.9;
}

/* Santa on sled */
.santa{
  position:absolute; left:186px; top:18px;
  width:64px; height:110px;
  animation: santaWobble .55s ease-in-out infinite alternate;
}
@keyframes santaWobble{
  from{ transform: rotate(-2deg) translateY(0); }
  to{ transform: rotate(2deg) translateY(2px); }
}
.santa .hat{
  position:absolute; left:10px; top:0;
  width:44px; height:30px;
  background: linear-gradient(180deg, #d11f2b, #a9101b);
  border-radius:18px 18px 12px 12px;
  border:1px solid rgba(0,0,0,.12);
}
.santa .hat:before{
  content:"";
  position:absolute; left:0; right:0; bottom:-10px; height:12px;
  background:#fff; border-radius:12px;
}
.santa .hat:after{
  content:"";
  position:absolute; right:-8px; top:16px;
  width:16px; height:16px; border-radius:50%;
  background:#fff;
}
.santa .head{
  position:absolute; left:10px; top:24px;
  width:44px; height:44px; border-radius:18px;
  background:#f2c9a7;
  border:1px solid rgba(0,0,0,.12);
}
.eye{ position:absolute; top:14px; width:6px; height:6px; border-radius:50%; background:rgba(0,0,0,.65); }
.e1{ left:12px; } .e2{ right:12px; }
.nose{ position:absolute; left:19px; top:20px; width:8px; height:8px; border-radius:50%; background:#e7b393; }
.moust{
  position:absolute; left:7px; top:24px; width:30px; height:14px;
  background:#fff; border-radius:12px;
  filter: drop-shadow(0 6px 8px rgba(0,0,0,.12));
}
.beard{
  position:absolute; left:3px; top:28px; width:38px; height:26px;
  background:#fff; border-radius:16px 16px 18px 18px;
  filter: drop-shadow(0 8px 10px rgba(0,0,0,.12));
}
.santa .body{
  position:absolute; left:8px; top:64px;
  width:48px; height:38px;
  background: linear-gradient(180deg, #d11f2b, #a9101b);
  border-radius:18px;
  border:1px solid rgba(0,0,0,.14);
}
.santa .belt{
  position:absolute; left:8px; top:82px;
  width:48px; height:10px;
  background:#1f1f1f; border-radius:8px;
}
.santa .belt:after{
  content:"";
  position:absolute; left:18px; top:1px; width:12px; height:8px;
  border:2px solid #caa14f; border-radius:4px;
}
.santa .arm{
  position:absolute; top:70px; width:18px; height:10px;
  background:#d11f2b; border-radius:8px;
  border:1px solid rgba(0,0,0,.12);
}
.a1{ left:-4px; transform:rotate(-18deg); }
.a2{ right:-4px; transform:rotate(18deg); }

.progressRow{
  position:absolute; left:16px; right:16px; bottom:14px;
  display:flex; justify-content:space-between; gap:10px; align-items:center;
  color:rgba(255,255,255,.75);
  font-size:14px;
}
.mini{ background:rgba(0,0,0,.18); border:1px solid rgba(255,255,255,.12); padding:8px 10px; border-radius:14px; }
.center{ text-align:center; margin-top:10px; }

/* Snow wipe stage */
.snowScene{ position:absolute; left:0; right:0; top:110px; bottom:22px; display:grid; place-items:center; }
.crash{
  width:min(520px, 92%);
  height:260px;
  border-radius:20px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.12);
  position:relative;
  overflow:hidden;
}
.snowPile{
  position:absolute; left:-30px; right:-30px; bottom:-40px;
  height:160px;
  background: radial-gradient(circle at 40px 40px, #fff 0 40px, transparent 41px),
              radial-gradient(circle at 140px 50px, #fff 0 55px, transparent 56px),
              radial-gradient(circle at 260px 60px, #fff 0 70px, transparent 71px),
              radial-gradient(circle at 400px 45px, #fff 0 60px, transparent 61px),
              radial-gradient(circle at 520px 70px, #fff 0 80px, transparent 81px);
  opacity:.95;
  filter: drop-shadow(0 -10px 20px rgba(0,0,0,.18));
}
.wipeCanvas{ position:absolute; inset:0; touch-action:none; }

.santaStand{
  position:absolute; left:50%; top:50%;
  width:80px; height:150px;
  transform:translate(-50%,-52%);
  opacity:1;
  filter: drop-shadow(0 16px 30px rgba(0,0,0,.25));
}
.santaStand .hat, .santaStand .head, .santaStand .body, .santaStand .belt,
.santaStand .eye, .santaStand .nose, .santaStand .beard, .santaStand .moust{
  transform: scale(1.15);
}

/* Gift stage */
.thankYou{ position:absolute; left:0; right:0; top:110px; bottom:20px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:14px; }
.danceRow{ display:flex; align-items:flex-end; gap:16px; padding:8px 10px; }
.santaDance{
  width:110px; height:140px; border-radius:22px;
  background:
    radial-gradient(circle at 35px 40px, #f2c9a7 0 26px, transparent 27px),
    radial-gradient(circle at 28px 34px, rgba(0,0,0,.65) 0 3px, transparent 4px),
    radial-gradient(circle at 42px 34px, rgba(0,0,0,.65) 0 3px, transparent 4px),
    radial-gradient(circle at 35px 48px, #fff 0 18px, transparent 19px),
    radial-gradient(circle at 35px 62px, #fff 0 22px, transparent 23px),
    linear-gradient(180deg, #d11f2b, #a9101b);
  border:1px solid rgba(255,255,255,.12);
  box-shadow: 0 18px 38px rgba(0,0,0,.25);
  animation: dance .55s ease-in-out infinite alternate;
}
@keyframes dance{
  from{ transform: rotate(-2deg) translateY(0); }
  to{ transform: rotate(3deg) translateY(4px); }
}
.giftBox{
  width:120px; height:120px; border-radius:22px;
  background:
    linear-gradient(90deg, rgba(255,255,255,.20) 0 18%, transparent 18% 82%, rgba(255,255,255,.20) 82% 100%),
    linear-gradient(0deg, rgba(255,255,255,.20) 0 18%, transparent 18% 82%, rgba(255,255,255,.20) 82% 100%),
    linear-gradient(180deg, #ff3b3b, #d91515);
  border:1px solid rgba(255,255,255,.16);
  box-shadow: 0 18px 38px rgba(0,0,0,.25);
  animation: giftWiggle .8s ease-in-out infinite;
}
@keyframes giftWiggle{
  0%,100%{ transform: rotate(-1deg); }
  50%{ transform: rotate(2deg) translateY(-2px); }
}

.btn{
  appearance:none;
  border:0;
  border-radius:999px;
  padding:14px 18px;
  font-weight:800;
  font-size:16px;
  cursor:pointer;
  box-shadow: 0 14px 30px rgba(0,0,0,.25);
}
.btn.primary{
  background:var(--btn);
  color:var(--btnText);
  border:2px solid rgba(0,0,0,.22);
}
.btn.ghost{
  background:rgba(255,255,255,.06);
  color:var(--text);
  border:1px solid rgba(255,255,255,.16);
}
.btn:active{ transform: translateY(1px); }

/* Modal */
.modal{
  position:fixed; inset:0;
  background: rgba(0,0,0,.55);
  display:grid; place-items:center;
  padding:18px;
  z-index:50;
}
.modalCard{
  width:min(560px, 94vw);
  background: rgba(12,18,40,.92);
  border: 1px solid rgba(255,255,255,.16);
  border-radius: 22px;
  padding: 18px;
  box-shadow: 0 30px 80px rgba(0,0,0,.45);
  backdrop-filter: blur(12px);
}
.modalCard h2{ margin:4px 0 8px; }
.modalText{ margin:0 0 12px; color:rgba(255,255,255,.86); }
.codebox{
  display:flex; gap:10px; align-items:center; justify-content:space-between;
  padding:12px;
  border-radius:16px;
  border:1px dashed rgba(255,255,255,.22);
  background: rgba(255,255,255,.06);
}
code{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:15px; }
