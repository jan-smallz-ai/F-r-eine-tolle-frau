<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Michelles Geschenk ğŸ„</title>
  <link rel="stylesheet" href="base.css" />
  <meta name="theme-color" content="#0b1020" />
</head>

<body>
  <div id="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo">ğŸ…</div>
        <div class="title">
          <div class="kicker">Geschenk 4</div>
          <div class="headline">Michelles Weihnachts-Mission</div>
        </div>
      </div>
      <div class="hud">
        <div id="stageTag" class="tag">Start</div>
      </div>
    </header>

    <main class="stage">
      <!-- SCENE (SVG world) -->
      <section id="world" class="world" aria-label="Szene">
        <div class="sky"></div>

        <div id="snowLayer" class="snow-layer" aria-hidden="true"></div>

        <div id="sleighArea" class="sleigh-area" role="button" tabindex="0" aria-label="Schlitten antippen">
          <!-- SVG is injected by JS (scene_art.js) -->
        </div>

        <div id="crashPoof" class="poof" aria-hidden="true">â˜ï¸ğŸ’¥â˜ï¸</div>
      </section>

      <!-- SPEECH BUBBLE -->
      <section class="dialog">
        <div class="bubble">
          <div class="bubble-tail"></div>
          <div class="bubble-header">
            <span class="speaker">Weihnachtsmann</span>
            <span id="mood" class="mood">ğŸ˜°</span>
          </div>
          <div id="speechText" class="bubble-text"></div>
          <div class="bubble-actions">
            <button id="btnNext" class="btn primary" type="button">Weiter</button>
          </div>
        </div>
      </section>

      <!-- FULLSCREEN WHITEOUT + SCRATCH -->
      <section id="wipeScreen" class="wipe-screen hidden" aria-label="Schnee wegwischen">
        <div class="wipe-top">
          <div class="wipe-title">â„ï¸ Schnee wegwischen!</div>
          <div class="wipe-sub">
            Wische den Schnee <b>komplett</b> weg (100%), damit der Weihnachtsmann wieder auftaucht.
          </div>

          <div class="wipe-meter">
            <div class="meter-bar">
              <div id="meterFill" class="meter-fill" style="width:0%"></div>
            </div>
            <div id="meterText" class="meter-text">0%</div>
          </div>
        </div>

        <div class="wipe-canvas-wrap">
          <canvas id="wipeCanvas"></canvas>
          <div class="wipe-hint">ğŸ–ï¸ Wischen / mit Maus ziehen</div>
        </div>

        <div class="wipe-bottom">
          <button id="btnWipeSkip" class="btn ghost" type="button" title="Nur im Notfall">
            Notfall-Skip
          </button>
        </div>
      </section>

      <!-- FINAL GIFT -->
      <section id="finalScreen" class="final hidden" aria-label="Finale">
        <div class="final-card">
          <div class="final-left">
            <div id="finalTree" class="tree-wrap"></div>
          </div>

          <div class="final-right">
            <div class="final-head">
              <div class="final-title">ğŸ„ Du hast Weihnachten gerettet!</div>
              <div class="final-sub" id="finalLine"></div>
            </div>

            <div class="gift-box">
              <div class="gift-top">
                <div class="gift-tag">FÃ¼r Michelle</div>
                <div class="gift-ribbon"></div>
              </div>

              <div class="gift-body">
                <div class="gift-label">Steam-Code</div>

                <div class="code-wrap">
                  <div id="codeBlur" class="code-blur" aria-label="Code verborgen">
                    XXXX-XXXX-XXXX
                  </div>
                  <div class="code-note">
                    (Setze deinen echten Code in <code>core.js</code> in <b>STEAM_CODE</b> ein.)
                  </div>
                </div>

                <button id="btnReveal" class="btn primary big" type="button">ğŸ Geschenk Ã¶ffnen</button>
                <button id="btnReplay" class="btn ghost" type="button">Nochmal anschauen</button>
              </div>
            </div>

            <div id="confetti" class="confetti" aria-hidden="true"></div>
          </div>
        </div>
      </section>

    </main>

    <footer class="footer">
      <div class="fine">Made with â„ï¸, Chaos-KÃ¼hen ğŸ„ und Liebe.</div>
    </footer>
  </div>

  <script src="scene_art.js"></script>
  <script src="fx_magic.js"></script>
  <script src="mini_tap.js"></script>
  <script src="mini_snowwipe.js"></script>
  <script src="core.js"></script>
</body>
</html>
